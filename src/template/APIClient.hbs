import axios, {AxiosInstance, AxiosRequestConfig} from 'axios';
{{#each imports}}
import {
  {{#each this.files}}
  {{{this}}},
  {{/each}}
} from './{{{this.dir}}}';
{{/each}}

export class APIClient {
  private readonly httpClient: AxiosInstance;

  constructor(baseURL: string);
  constructor(config: AxiosRequestConfig);
  constructor(configOrBaseURL: AxiosRequestConfig | string) {
    if (typeof configOrBaseURL === 'string') {
      configOrBaseURL = {baseURL: configOrBaseURL};
    }

    this.httpClient = axios.create(configOrBaseURL);
  }

  get API() {
    return {{{API}}};
  }

  get interceptors() {
    return this.httpClient.interceptors;
  }
}
